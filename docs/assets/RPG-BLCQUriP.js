import"./modulepreload-polyfill-B5Qt9EMX.js";let x=0,o=100,n=50,l=0,r,d,i=["stick"];const p=document.querySelector("#button1"),g=document.querySelector("#button2"),w=document.querySelector("#button3"),e=document.querySelector("#text"),k=document.querySelector("#xpText"),b=document.querySelector("#healthText"),f=document.querySelector("#goldText"),v=document.querySelector("#monsterStats"),H=document.querySelector("#monsterName"),q=document.querySelector("#monsterHealth"),T=[{name:"stick",power:5},{name:"dagger",power:30},{name:"claw hammer",power:50},{name:"sword",power:100}],h=[{name:"slime",level:2,health:15},{name:"fanged beast",level:8,health:60},{name:"dragon",level:20,health:300}],a=[{name:"town square","button text":["Go to store","Go to cave","Fight dragon"],"button functions":[S,M,A],text:'You are in the town square. You see a sign that says "Store".'},{name:"store","button text":["Buy 10 health (10 gold)","Buy weapon (30 gold)","Go to town square"],"button functions":[R,L,c],text:"You enter the store."},{name:"cave","button text":["Fight slime","Fight fanged beast","Go to town square"],"button functions":[W,F,c],text:"You enter the cave. You see some monsters."},{name:"fight","button text":["Attack","Dodge","Run"],"button functions":[I,N,c],text:"You are fighting a monster."},{name:"kill monster","button text":["Go to town square","Go to town square","Go to town square"],"button functions":[c,c,U],text:'The monster screams "Arg!" as it dies. You gain experience points and find gold.'},{name:"lose","button text":["REPLAY?","REPLAY?","REPLAY?"],"button functions":[m,m,m],text:"You die. &#x2620;"},{name:"win","button text":["REPLAY?","REPLAY?","REPLAY?"],"button functions":[m,m,m],text:"You defeat the dragon! YOU WIN THE GAME! &#x1F389;"},{name:"easter egg","button text":["2","8","Go to town square?"],"button functions":[V,j,c],text:"You find a secret game. Pick a number above. Ten numbers will be randomly chosen between 0 and 10. If the number you choose matches one of the random numbers, you win!"}];p.onclick=S;g.onclick=M;w.onclick=A;function s(t){v.style.display="none",p.innerText=t["button text"][0],g.innerText=t["button text"][1],w.innerText=t["button text"][2],p.onclick=t["button functions"][0],g.onclick=t["button functions"][1],w.onclick=t["button functions"][2],e.innerHTML=t.text}function c(){s(a[0])}function S(){s(a[1])}function M(){s(a[2])}function R(){n>=10?(n-=10,o+=10,f.innerText=n,b.innerText=o):e.innerText="You do not have enough gold to buy health."}function L(){if(l<T.length-1)if(n>=30){n-=30,l++,f.innerText=n;let t=T[l].name;e.innerText="You now have a "+t+".",i.push(t),e.innerText+=" In your inventory you have: "+i}else e.innerText="You do not have enough gold to buy a weapon.";else e.innerText="You already have the most powerful weapon!",g.innerText="Sell weapon for 15 gold",g.onclick=P}function P(){if(i.length>1){n+=15,f.innerText=n;let t=i.shift();e.innerText="You sold a "+t+".",e.innerText+=" In your inventory you have: "+i}else e.innerText="Don't sell your only weapon!"}function W(){r=0,Y()}function F(){r=1,Y()}function A(){r=2,Y()}function Y(){s(a[3]),d=h[r].health,v.style.display="block",H.innerText=h[r].name,q.innerText=d}function I(){e.innerText="The "+h[r].name+" attacks.",e.innerText+=" You attack it with your "+T[l].name+".",o-=B(h[r].level),D()?d-=T[l].power+Math.floor(Math.random()*x)+1:e.innerText+=" You miss.",b.innerText=o,q.innerText=d,o<=0?E():d<=0&&(r===2?O():C()),Math.random()<=.1&&i.length!==1&&(e.innerText+=" Your "+i.pop()+" breaks.",l--)}function B(t){const u=t*5-Math.floor(Math.random()*x);return console.log(u),u>0?u:0}function D(){return Math.random()>.2||o<20}function N(){e.innerText="You dodge the attack from the "+h[r].name}function C(){n+=Math.floor(h[r].level*6.7),x+=h[r].level,f.innerText=n,k.innerText=x,s(a[4])}function E(){s(a[5])}function O(){s(a[6])}function m(){x=0,o=100,n=50,l=0,i=["stick"],f.innerText=n,b.innerText=o,k.innerText=x,c()}function U(){s(a[7])}function V(){G(2)}function j(){G(8)}function G(t){const u=[];for(;u.length<10;)u.push(Math.floor(Math.random()*11));e.innerText="You picked "+t+`. Here are the random numbers:
`;for(let y=0;y<10;y++)e.innerText+=u[y]+`
`;u.includes(t)?(e.innerText+="Right! You win 20 gold!",n+=20,f.innerText=n):(e.innerText+="Wrong! You lose 10 health!",o-=10,b.innerText=o,o<=0&&E())}
